<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Compra de Boletos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />
    <style>
        .seat {
            cursor: pointer;
            font-size: 24px;
            margin: 5px;
        }
        .selected {
            color: green;
        }
    </style>
</head>
<body>
<h1>Compra de Boletos</h1>
<form action="/buyTicket" method="post">

    <!-- paso 1 destino -->
    <label for="fromLocation">De:</label>
    <select id="fromLocation" name="fromLocation" required>
        <option value="" disabled selected>Seleccione un lugar de origen</option>
        <th:block th:each="destination : ${listDestinations}">
            <option th:value="${destination.name}" th:text="${destination.name}"></option>
        </th:block>
    </select><br><br>

    <label for="toLocation">A:</label>
    <select id="toLocation" name="toLocation" required>
        <option value="" disabled selected>Seleccione un lugar de destino</option>
        <th:block th:each="destination : ${listDestinations}">
            <option th:value="${destination.name}" th:text="${destination.name}"></option>
        </th:block>
    </select><br><br>

    <!-- paso 2 fecha -->
    <label for="travelDate">Fecha:</label>
    <input type="date" id="travelDate" name="travelDate" required><br><br>

    <label for="travelTime">Selecione la hora</label>
    <div id="travelTime" name="travelTime"> 
        <input type="radio" id="5AM" name="travelTime" value="05:00">
        <label for="5AM">5AM</label><br>
        <input type="radio" id="12PM" name="travelTime" value="12:00">
        <label for="12PM">12PM</label><br>
        <input type="radio" id="4PM" name="travelTime" value="16:00">
        <label for="4PM">4PM</label><br>
    </div>
    
    <!-- paso 4 asientos -->
    <label for="seatNumber">Asiento:</label>
    <div id="seatSelection">
        <div>
            <i class="ti ti-armchair seat" data-seat="1"></i>
            <span>1-B</span>
        </div>
        <i class="ti ti-armchair seat" data-seat="2"></i>
        <i class="ti ti-armchair seat" data-seat="3"></i>
        <i class="ti ti-armchair seat" data-seat="4"></i>
    </div>
    <input type="hidden" id="seatNumber" name="seatNumber" required><br><br>
    
    
    <!-- paso 5 -->
    <label for="passengerName">Nombre del Pasajero:</label>
    <input type="text" id="passengerName" name="passengerName" required><br><br>
    
    <label for="dni">Ingrese su DNI</label>
    <input pattern="\d{8}" maxlength="8" type="text" id="dni" name="dni" required><br><br>


    
    <!-- paso 6 -->
    <!-- <label for="paymentMethod">Método de Pago:</label><br>
    <label for="cardnumber">Número de tarjeta:</label><br>
    <input type="text" id="cardnumber" name="cardnumber" pattern="\d{16}" maxlength="16" required><br><br>
    <label for="cardholder">Nombre del titular de la tarjeta:</label><br>
    <input type="text" id="cardholder" name="cardholder" required><br><br>
    <label for="cvv">CVV:</label><br>
    <input type="text" id="cvv" name="cvv" pattern="\d{3}" maxlength="3" required><br><br>
    <label for="expiry">Fecha de expiración (MM/AA):</label><br>
    <input type="text" id="expiry" name="expiry" pattern="\d{2}/\d{2}" maxlength="5" placeholder="MM/AA" required><br><br> -->

    <button type="submit">Comprar Boleto</button>
</form>

<script>
    document.querySelectorAll('.seat').forEach(seat => {
        seat.addEventListener('click', function() {
            document.querySelectorAll('.seat').forEach(s => s.classList.remove('selected'));
            this.classList.add('selected');
            document.getElementById('seatNumber').value = this.getAttribute('data-seat');
        });
    });

    function validateSeat() {
        const selectedSeat = document.querySelectorAll('.seat.selected').length;
        if (selectedSeat === 0) {
            alert('Debe seleccionar un asiento.');
            return false;
        }
        return true;
    }
</script>
</body>
</html>